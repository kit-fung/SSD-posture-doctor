<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script><!--keywords:width height keycode-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js"></script> if sound is not needed then this is unecessary-->
    <script src="https://unpkg.com/ml5@0.4.3/dist/ml5.min.js"></script><!--teachable machine model-->
    <link rel="stylesheet" type="text/css" href="index_style.css">
</head>
<body>
    <svg>
        <clipPath id="cam_svg" clipPathUnits="objectBoundingBox"> <!-- scale = 1/textLength,1/textLength ; y ~= font-size -->
            <text x="-18" y="128" textLength="0" font-family="" fill="#000" font-size="143px" transform="scale(0.00625,0.00625)">ðŸ“·</text>
        </clipPath>
        <clipPath id="gear_svg" clipPathUnits="objectBoundingBox"> <!-- scale = 1/textLength,1/textLength ; y ~= font-size -->
            <text x="-2" y="112" textLength="0" font-family="" font-style="bold" fill="#000" font-size="143px" transform="scale(0.0085,0.0085)">âš™</text>
        </clipPath>
    </svg>
    <script src="sketch.js"></script>
    <script src="snake.js"></script>
    <script src="index.js"></script>
    <div id="main">
        <div class="quality_label" style="--T:0;transition: --T 0s;
        --msk:radial-gradient(at center center, #000 calc(100% * sin(45deg) * var(--T) - 1px), #0000 calc(100% * sin(45deg) * var(--T)));
        -webkit-mask:var(--msk);mask:var(--msk)">
            <div style="position: absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at center center, #0000 calc(var(--size) * 0.5 - 10px),#f00 calc(var(--size) * 0.5 - 9px),#f00 calc(var(--size) * 0.5 - 1px),#0000 calc(var(--size) * 0.5));font-size: calc(var(--size) * 0.5);"></div>
            <div style="position: absolute;top:47%;left:49%;transform: translate(-50%,-50%);color:#f00;font-size: calc(0.6 * var(--size));font-weight: 900;">ä½³</div>
            <div style="position: absolute;top:0;left:0;width: 100%;height: 100%;background-color: #f00;opacity: calc(1 - var(--T) * var(--T) * var(--T) * var(--T));"></div>
        </div>
        <div class="quality_label" style="--T:0;transition: --T 0s;
            --msk:center center / calc(100% * var(--T)) calc(100% * var(--T)) no-repeat linear-gradient(to right,#000,#000);
            -webkit-mask:var(--msk);mask:var(--msk)">
            <div style="position: absolute;top:0;left:0;width:100%;height:100%;background:center center / 100% 100% no-repeat linear-gradient(to right,#f44 10px, #0000 10px, #0000 calc(100% - 10px), #f44 calc(100% - 10px)), center center / 100% 100% no-repeat linear-gradient(to bottom,#f44 10px, #0000 10px, #0000 calc(100% - 10px), #f44 calc(100% - 10px));"></div>
            <div style="position: absolute;top:47%;left:49%;transform: translate(-50%,-50%);color:#f44;font-size: calc(0.6 * var(--size));font-weight: 900;">è‰¯</div>
            <div style="position: absolute;top:0;left:0;width: 100%;height: 100%;background-color: #f44;opacity: calc(1 - var(--T) * var(--T) * var(--T) * var(--T));"></div>
        </div>
        <div class="quality_label" style="--T:0;transition: --T 0s;
            --msk:0% 0% / 50% 50% no-repeat linear-gradient(to top left,#000 calc(70% * var(--T)),#0000 calc(70% * var(--T))),100% 0% / 50% 50% no-repeat linear-gradient(to top right,#000 calc(70% * var(--T)),#0000 calc(70% * var(--T))), 0% 100% / 50% 50% no-repeat linear-gradient(to bottom left,#000 calc(70% * var(--T)),#0000 calc(70% * var(--T))),100% 100% / 50% 50% no-repeat linear-gradient(to bottom right,#000 calc(70% * var(--T)),#0000 calc(70% * var(--T)));
            -webkit-mask:var(--msk);mask:var(--msk);">
            <div style="position: absolute;top:0;left:0;width:100%;height:100%;
            background:center center / 100% 100% no-repeat linear-gradient(to right,#444 10px, #0000 10px, #0000 calc(100% - 10px), #444 calc(100% - 10px)), center center / 100% 100% no-repeat linear-gradient(to bottom,#444 10px, #0000 10px, #0000 calc(100% - 10px), #444 calc(100% - 10px)),
            center center / 100% 100% no-repeat linear-gradient(to bottom right,#444 calc(10px + 15.5%), #0000 calc(10px + 15.5%), #0000 calc(100% - 10px - 15.5%), #444 calc(100% - 10px - 15.5%)), center center / 100% 100% no-repeat linear-gradient(to bottom left,#444 calc(10px + 15.5%), #0000 calc(10px + 15.5%), #0000 calc(100% - 10px - 15.5%), #444 calc(100% - 10px - 15.5%));"></div>
            <div style="position: absolute;top:47%;left:51%;transform: translate(-50%,-50%);color:#444;font-size: calc(0.6 * var(--size));font-weight: 900;">åŠ£</div>
            <div style="position: absolute;top:0;left:0;width: 100%;height: 100%;background-color: #444;opacity: calc(1 - var(--T) * var(--T) * var(--T) * var(--T));"></div>
        </div>
        <div class="button" id="cam_btn"
        style="position: absolute;bottom: 5%;left:50%;width:5em;height:5em;border-radius: 100svh; transform: translate(-50%,0);
            --u:0;
            box-shadow: inset 0 0 calc(10px) rgb(calc(64 - 64 * var(--t)),calc(64 - 64 * var(--t)),calc(64 - 64 * var(--t)));
            background-color: rgb(calc(192 - 16 * var(--W)),calc(192 - 16 * var(--W)),calc(192 - 16 * var(--W)));"
            onclick="style.setProperty('--u', 1 - parseInt(style.getPropertyValue('--u')));get_label()">
            <div style="position: absolute; top: 45%; left: 50%; transform: translate(-50%,-50%); background-color: rgb(64,64,64); width: 50%; height: 50%; clip-path: url(#cam_svg);"></div>
            <div style="position: absolute; top: 45%; left: 50%; transform: translate(-50%,-50%); background-color: rgb(96,96,96); width: 45%; height: 45%; clip-path: url(#cam_svg);"></div>
            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); background-color: rgb(calc(191 + 32 * var(--W)),calc(191 + 32 * var(--W)),calc(191 + 32 * var(--W))); width: 20%; height: 20%; clip-path: circle(50% at 50% 50%);"></div>
        </div>
        <div class="button" id="right_wrapper" style="--u:0;--size:300px; right:calc(var(--size) * var(--t));">
            <div style="position: fixed;top:0;right:0;width: 50px;height: 50px;background-color: rgb(161,161,161);transform: translate(0%,0); border-radius: 10px 0 0 10px;">
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); background-color: rgb(64,64,64); width: 100%; height: 100%; clip-path: url(#gear_svg);"></div>
            </div>
            <div style="position: absolute;top:0;left:0;width: var(--size);height: 100svh;background-color: grey;transform: translate(0,0);">
                <div class="button" style="position: absolute; top: 50px;left: 25%; width: 100px; background-color: transparent;
                    display: flex; flex-direction: column;
                    --u:0;
                    height: calc(100px + 250px * var(--u));"
                    onclick="style.setProperty('--u', 1 - parseInt(style.getPropertyValue('--u')))">
                    <div id="selected_posture" style="flex-basis: 100px;flex-grow: 0;flex-shrink: 0;width: 100%; border: 0px solid grey; border-radius: 5px; box-shadow: inset black 0 0 5px;background-color: white;background-image: url(assets/posture_auto_m.png);background-size: cover; filter: invert(calc(0.2 * var(--T)));"></div>
                    <div style="flex-grow: 1;width: 100%;background-color: black;overflow-x: hidden; overflow-y: auto;font-size: 0;border-radius: 5px;" data-posture="auto">
                        <div class="dropdown_glyph posture_item" style="background-image: url(assets/posture_auto_m.png); background-size: cover;--u:1;box-shadow: inset black 0 0 calc(8px * var(--u)); background-color: white;"
                        onclick="document.getElementById('selected_posture').style.setProperty('background-image',this.style.getPropertyValue('background-image'));document.getElementById('selected_posture').style.setProperty('background-color',this.style.getPropertyValue('background-color'));
                        document.getElementById('selected_posture').setAttribute('data-posture',this.getAttribute('data-posture'));
                        set_class_style('posture_item','--u',0),this.style.setProperty('--u',1)" data-posture="auto"></div>
                        <div class="dropdown_glyph posture_item" style="background-image: url(assets/posture_ladder_m.png); background-size: cover;--u:0;box-shadow: inset black 0 0 calc(8px * var(--u)); background-color: orange;"
                        onclick="document.getElementById('selected_posture').style.setProperty('background-image',this.style.getPropertyValue('background-image'));document.getElementById('selected_posture').style.setProperty('background-color',this.style.getPropertyValue('background-color'));
                        document.getElementById('selected_posture').setAttribute('data-posture',this.getAttribute('data-posture'));
                        set_class_style('posture_item','--u',0),this.style.setProperty('--u',1)" data-posture="ladder"></div>
                        <div class="dropdown_glyph posture_item" style="background-image: url(assets/posture_sitting_m.png); background-size: cover; background-color: greenyellow;--u:0;box-shadow: inset black 0 0 calc(8px * var(--u));"
                        onclick="document.getElementById('selected_posture').style.setProperty('background-image',this.style.getPropertyValue('background-image'));document.getElementById('selected_posture').style.setProperty('background-color',this.style.getPropertyValue('background-color'));
                        document.getElementById('selected_posture').setAttribute('data-posture',this.getAttribute('data-posture'));
                        set_class_style('posture_item','--u',0),this.style.setProperty('--u',1)" data-posture="sitting"></div>
                        <div class="dropdown_glyph posture_item" style="background-image: none;background-color: green;--u:0;box-shadow: inset black 0 0 calc(8px * var(--u));" onclick="set_class_style('posture_item','--u',0),this.style.setProperty('--u',1)"></div>
                        <div class="dropdown_glyph posture_item" style="background-image: none;--u:0;box-shadow: inset black 0 0 calc(8px * var(--u));" onclick="set_class_style('posture_item','--u',0),this.style.setProperty('--u',1)"></div>
                    </div>
                </div>
                <div class="button" style="position: absolute;left:25%; bottom: 50px; --length:50px; width:var(--length); height:30px; background: linear-gradient(to right, #f00 calc(var(--length) * 0.5),#00f calc(var(--length) * 0.5)); border-radius: 100svh;
                    --u:0;"
                    onclick="style.setProperty('--u', 1 - parseInt(style.getPropertyValue('--u'))); //set_gestures(style.getPropertyValue('--u'))">
                    <div style="position: absolute;top:50%;left:50%;transform: translate(-50%,-50%);--radius:30px;width:calc(2 * var(--radius) + var(--length)); height:calc(2 * var(--radius));
                        background: top left / 100% 100% no-repeat radial-gradient(circle at calc(var(--radius) + var(--length) * var(--U)) var(--radius),#0000 calc(var(--radius) * 0.8),#000 calc(var(--radius) + 0px),#0000 calc(var(--radius) + 1px)); background-color: white;
                        clip-path: circle(calc(var(--radius) - 0.01px) at calc(var(--radius) + var(--length) * var(--U)) center);"> <!-- pixels not clearing properly when using fast integer method, 0.01px is subtracted to force it to use slow but accurate method -->
                        <div style="display: block;position: absolute;left:calc(50% - var(--length) * 0.5);top:49%;transform: translate(-50%,-50%); font-size: calc(var(--radius) * 1);user-select: none;">ç”·</div>
                        <div style="display: block;position: absolute;left:calc(50% + var(--length) * 0.5);top:49%;transform: translate(-50%,-50%); font-size: calc(var(--radius) * 1);user-select: none;">å¥³</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>